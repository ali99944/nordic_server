<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Machine</title>
</head>
<body>
    <h1>Edit Machine</h1>
    <form method="POST" action="/machines/<%= machine._id %>?_method=PUT">
        <label for="serial">Serial:</label>
        <input type="number" id="serial" name="serial" value="<%= machine.serial %>" required><br>

        <label for="status">Status:</label>
        <input type="checkbox" id="status" name="status" <%= machine.status ? 'checked' : '' %>><br>

        <label for="qrcode">QR Code:</label>
        <input type="text" id="qrcode" name="qrcode" value="<%= machine.qrcode %>" required><br>

        <label for="zone">Zone:</label>
        <select id="zone" name="zone" required>
            <% zones.forEach(zone => { %>
                <option value="<%= zone._id %>" <%= zone._id.toString() === machine.zone._id.toString() ? 'selected' : '' %>><%= zone.name %></option>
            <% }); %>
        </select><br>

        <button type="submit">Update</button>
    </form>
    <a href="/machines">Back to Machine List</a>
</body>
</html>
